{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Grid,Card,CardContent,CardActions,Button,Box,CircularProgress,Alert,TextField,InputAdornment}from'@mui/material';import{Search as SearchIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await fetch(`${process.env.REACT_APP_API_URL||'http://localhost:5000'}/api/products`);if(response.ok){const data=await response.json();setProducts(data);}else{setError('Failed to fetch products');}}catch(error){console.error('Error fetching products:',error);setError('Network error. Please try again.');}finally{setLoading(false);}};const filteredProducts=products.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase())||product.description.toLowerCase().includes(searchTerm.toLowerCase()));if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"50vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"Products\"}),/*#__PURE__*/_jsx(Box,{sx:{mb:4},children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,variant:\"outlined\",placeholder:\"Search products...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})}})}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),filteredProducts.length===0&&!loading?/*#__PURE__*/_jsx(Box,{textAlign:\"center\",py:4,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:searchTerm?'No products found matching your search.':'No products available.'})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:filteredProducts.map(product=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:product.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",paragraph:true,children:product.description}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary\",children:[\"$\",product.price]}),product.category&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Category: \",product.category]})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",children:\"View Details\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",children:\"Add to Cart\"})]})]})},product._id))})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Grid","Card","CardContent","CardActions","Button","Box","CircularProgress","Alert","TextField","InputAdornment","Search","SearchIcon","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","loading","setLoading","error","setError","searchTerm","setSearchTerm","fetchProducts","response","fetch","process","env","REACT_APP_API_URL","ok","data","json","console","filteredProducts","filter","product","name","toLowerCase","includes","description","display","justifyContent","alignItems","minHeight","children","maxWidth","sx","mt","mb","variant","component","gutterBottom","align","fullWidth","placeholder","value","onChange","e","target","InputProps","startAdornment","position","severity","length","textAlign","py","color","container","spacing","map","item","xs","sm","md","height","flexDirection","flexGrow","paragraph","price","category","size","_id"],"sources":["/home/prospa/AWS-solutions-architect-project-demo/aws-mongodb-app/frontend/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  Box,\n  CircularProgress,\n  Alert,\n  TextField,\n  InputAdornment\n} from '@mui/material';\nimport { Search as SearchIcon } from '@mui/icons-material';\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/products`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n      } else {\n        setError('Failed to fetch products');\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setError('Network error. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredProducts = products.filter(product =>\n    product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    product.description.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h3\" component=\"h1\" gutterBottom align=\"center\">\n        Products\n      </Typography>\n      \n      <Box sx={{ mb: 4 }}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Search products...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon />\n              </InputAdornment>\n            ),\n          }}\n        />\n      </Box>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {filteredProducts.length === 0 && !loading ? (\n        <Box textAlign=\"center\" py={4}>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            {searchTerm ? 'No products found matching your search.' : 'No products available.'}\n          </Typography>\n        </Box>\n      ) : (\n        <Grid container spacing={3}>\n          {filteredProducts.map((product) => (\n            <Grid item xs={12} sm={6} md={4} key={product._id}>\n              <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n                <CardContent sx={{ flexGrow: 1 }}>\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                    {product.name}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                    {product.description}\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"primary\">\n                    ${product.price}\n                  </Typography>\n                  {product.category && (\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      Category: {product.category}\n                    </Typography>\n                  )}\n                </CardContent>\n                <CardActions>\n                  <Button size=\"small\" variant=\"contained\">\n                    View Details\n                  </Button>\n                  <Button size=\"small\" variant=\"outlined\">\n                    Add to Cart\n                  </Button>\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </Container>\n  );\n};\n\nexport default Products;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,SAAS,CACTC,UAAU,CACVC,IAAI,CACJC,IAAI,CACJC,WAAW,CACXC,WAAW,CACXC,MAAM,CACNC,GAAG,CACHC,gBAAgB,CAChBC,KAAK,CACLC,SAAS,CACTC,cAAc,KACT,eAAe,CACtB,OAASC,MAAM,GAAI,CAAAC,UAAU,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd4B,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,eAAe,CAAC,CAExG,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCf,WAAW,CAACc,IAAI,CAAC,CACnB,CAAC,IAAM,CACLV,QAAQ,CAAC,0BAA0B,CAAC,CACtC,CACF,CAAE,MAAOD,KAAK,CAAE,CACda,OAAO,CAACb,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,kCAAkC,CAAC,CAC9C,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,gBAAgB,CAAGlB,QAAQ,CAACmB,MAAM,CAACC,OAAO,EAC9CA,OAAO,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjB,UAAU,CAACgB,WAAW,CAAC,CAAC,CAAC,EAC7DF,OAAO,CAACI,WAAW,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACjB,UAAU,CAACgB,WAAW,CAAC,CAAC,CACrE,CAAC,CAED,GAAIpB,OAAO,CAAE,CACX,mBACEN,IAAA,CAACR,GAAG,EAACqC,OAAO,CAAC,MAAM,CAACC,cAAc,CAAC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAACC,SAAS,CAAC,MAAM,CAAAC,QAAA,cAC9EjC,IAAA,CAACP,gBAAgB,GAAE,CAAC,CACjB,CAAC,CAEV,CAEA,mBACES,KAAA,CAACjB,SAAS,EAACiD,QAAQ,CAAC,IAAI,CAACC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,eAC5CjC,IAAA,CAACd,UAAU,EAACoD,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAACC,KAAK,CAAC,QAAQ,CAAAR,QAAA,CAAC,UAEpE,CAAY,CAAC,cAEbjC,IAAA,CAACR,GAAG,EAAC2C,EAAE,CAAE,CAAEE,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,cACjBjC,IAAA,CAACL,SAAS,EACR+C,SAAS,MACTJ,OAAO,CAAC,UAAU,CAClBK,WAAW,CAAC,oBAAoB,CAChCC,KAAK,CAAElC,UAAW,CAClBmC,QAAQ,CAAGC,CAAC,EAAKnC,aAAa,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CI,UAAU,CAAE,CACVC,cAAc,cACZjD,IAAA,CAACJ,cAAc,EAACsD,QAAQ,CAAC,OAAO,CAAAjB,QAAA,cAC9BjC,IAAA,CAACF,UAAU,GAAE,CAAC,CACA,CAEpB,CAAE,CACH,CAAC,CACC,CAAC,CAELU,KAAK,eACJR,IAAA,CAACN,KAAK,EAACyD,QAAQ,CAAC,OAAO,CAAChB,EAAE,CAAE,CAAEE,EAAE,CAAE,CAAE,CAAE,CAAAJ,QAAA,CACnCzB,KAAK,CACD,CACR,CAEAc,gBAAgB,CAAC8B,MAAM,GAAK,CAAC,EAAI,CAAC9C,OAAO,cACxCN,IAAA,CAACR,GAAG,EAAC6D,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAAArB,QAAA,cAC5BjC,IAAA,CAACd,UAAU,EAACoD,OAAO,CAAC,IAAI,CAACiB,KAAK,CAAC,gBAAgB,CAAAtB,QAAA,CAC5CvB,UAAU,CAAG,yCAAyC,CAAG,wBAAwB,CACxE,CAAC,CACV,CAAC,cAENV,IAAA,CAACb,IAAI,EAACqE,SAAS,MAACC,OAAO,CAAE,CAAE,CAAAxB,QAAA,CACxBX,gBAAgB,CAACoC,GAAG,CAAElC,OAAO,eAC5BxB,IAAA,CAACb,IAAI,EAACwE,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAA7B,QAAA,cAC9B/B,KAAA,CAACd,IAAI,EAAC+C,EAAE,CAAE,CAAE4B,MAAM,CAAE,MAAM,CAAElC,OAAO,CAAE,MAAM,CAAEmC,aAAa,CAAE,QAAS,CAAE,CAAA/B,QAAA,eACrE/B,KAAA,CAACb,WAAW,EAAC8C,EAAE,CAAE,CAAE8B,QAAQ,CAAE,CAAE,CAAE,CAAAhC,QAAA,eAC/BjC,IAAA,CAACd,UAAU,EAACsD,YAAY,MAACF,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAAN,QAAA,CACjDT,OAAO,CAACC,IAAI,CACH,CAAC,cACbzB,IAAA,CAACd,UAAU,EAACoD,OAAO,CAAC,OAAO,CAACiB,KAAK,CAAC,gBAAgB,CAACW,SAAS,MAAAjC,QAAA,CACzDT,OAAO,CAACI,WAAW,CACV,CAAC,cACb1B,KAAA,CAAChB,UAAU,EAACoD,OAAO,CAAC,IAAI,CAACiB,KAAK,CAAC,SAAS,CAAAtB,QAAA,EAAC,GACtC,CAACT,OAAO,CAAC2C,KAAK,EACL,CAAC,CACZ3C,OAAO,CAAC4C,QAAQ,eACflE,KAAA,CAAChB,UAAU,EAACoD,OAAO,CAAC,OAAO,CAACiB,KAAK,CAAC,gBAAgB,CAAAtB,QAAA,EAAC,YACvC,CAACT,OAAO,CAAC4C,QAAQ,EACjB,CACb,EACU,CAAC,cACdlE,KAAA,CAACZ,WAAW,EAAA2C,QAAA,eACVjC,IAAA,CAACT,MAAM,EAAC8E,IAAI,CAAC,OAAO,CAAC/B,OAAO,CAAC,WAAW,CAAAL,QAAA,CAAC,cAEzC,CAAQ,CAAC,cACTjC,IAAA,CAACT,MAAM,EAAC8E,IAAI,CAAC,OAAO,CAAC/B,OAAO,CAAC,UAAU,CAAAL,QAAA,CAAC,aAExC,CAAQ,CAAC,EACE,CAAC,EACV,CAAC,EA1B6BT,OAAO,CAAC8C,GA2BxC,CACP,CAAC,CACE,CACP,EACQ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAnE,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}